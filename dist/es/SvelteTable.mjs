function e(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(null!=o)for(var r=Object.keys(Object(o)),c=0,s=r.length;c<s;c++){var u=r[c],i=Object.getOwnPropertyDescriptor(o,u);void 0!==i&&i.enumerable&&(n[u]=o[u])}}return n}function t(){}function n(e){return e()}function l(){return Object.create(null)}function o(e){e.forEach(n)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e){return null==e?"":e}function u(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function a(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function m(){return h(" ")}function g(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function p(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function v(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}let $;function _(e){$=e}({assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}).polyfill();const b=[],w=[],O=[],j=[],x=Promise.resolve();let k=!1;function V(e){O.push(e)}function S(){const e=new Set;do{for(;b.length;){const e=b.shift();_(e),E(e.$$)}for(;w.length;)w.pop()();for(let t=0;t<O.length;t+=1){const n=O[t];e.has(n)||(n(),e.add(n))}O.length=0}while(b.length);for(;j.length;)j.pop()();k=!1}function E(e){e.fragment&&(e.update(e.dirty),o(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(V))}const B=new Set;const C="undefined"!=typeof window?window:global;function K(e,t){e.$$.dirty||(b.push(e),k||(k=!0,x.then(S)),e.$$.dirty=l()),e.$$.dirty[t]=!0}function A(e,c,s,u,i,f){const a=$;_(e);const d=c.props||{},h=e.$$={fragment:null,ctx:null,props:f,update:t,not_equal:i,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:l(),dirty:null};let m=!1;var g,p,y;h.ctx=s?s(e,d,(t,n,l=n)=>(h.ctx&&i(h.ctx[t],h.ctx[t]=l)&&(h.bound[t]&&h.bound[t](l),m&&K(e,t)),n)):d,h.update(),m=!0,o(h.before_update),h.fragment=u(h.ctx),c.target&&(c.hydrate?h.fragment.l((y=c.target,Array.from(y.childNodes))):h.fragment.c(),c.intro&&((g=e.$$.fragment)&&g.i&&(B.delete(g),g.i(p))),function(e,t,l){const{fragment:c,on_mount:s,on_destroy:u,after_update:i}=e.$$;c.m(t,l),V(()=>{const t=s.map(n).filter(r);u?u.push(...t):o(t),e.$$.on_mount=[]}),i.forEach(V)}(e,c.target,c.anchor),S()),_(a)}class H{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(o(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const{Object:L}=C;function T(e,t,n){const l=L.create(e);return l.col=t[n],l}function F(e,t,n){const l=L.create(e);return l.row=t[n],l}function M(e,t,n){const l=L.create(e);return l.col=t[n],l}function N(e,t,n){const l=L.create(e);return l.option=t[n],l}function P(e,t,n){const l=L.create(e);return l.col=t[n],l}function q(e){var t,n,l;let o=e.filterValues[e.col.key],r=[];for(let t=0;t<o.length;t+=1)r[t]=D(N(e,o,t));function c(){e.select_change_handler.call(t,e)}return{c(){t=d("select"),n=d("option");for(let e=0;e<r.length;e+=1)r[e].c();n.__value=e.undefined,n.value=n.__value,void 0===e.filterSettings[e.col.key]&&V(c),p(t,"class","svelte-5jx64d"),l=g(t,"change",c)},m(l,o){i(l,t,o),u(t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null);v(t,e.filterSettings[e.col.key])},p(n,l){if(e=l,n.filterValues||n.columns){let l;for(o=e.filterValues[e.col.key],l=0;l<o.length;l+=1){const c=N(e,o,l);r[l]?r[l].p(n,c):(r[l]=D(c),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}(n.filterSettings||n.columns)&&v(t,e.filterSettings[e.col.key])},d(e){e&&f(t),a(r,e),l()}}}function D(e){var t,n,l,o=e.option.name+"";return{c(){t=d("option"),n=h(o),t.__value=l=e.option.value,t.value=t.__value},m(e,l){i(e,t,l),u(t,n)},p(e,r){(e.filterValues||e.columns)&&o!==(o=r.option.name+"")&&y(n,o),(e.filterValues||e.columns)&&l!==(l=r.option.value)&&(t.__value=l),t.value=t.__value},d(e){e&&f(t)}}}function I(e){var t,n,l=e.filterValues[e.col.key]!==e.undefined&&q(e);return{c(){t=d("th"),l&&l.c(),n=m()},m(e,o){i(e,t,o),l&&l.m(t,null),u(t,n)},p(e,o){o.filterValues[o.col.key]!==o.undefined?l?l.p(e,o):((l=q(o)).c(),l.m(t,n)):l&&(l.d(1),l=null)},d(e){e&&f(t),l&&l.d()}}}function z(e){var t,n=1===e.sortOrder?"▲":"▼";return{c(){t=h(n)},m(e,n){i(e,t,n)},p(e,l){e.sortOrder&&n!==(n=1===l.sortOrder?"▲":"▼")&&y(t,n)},d(e){e&&f(t)}}}function G(e){var t,n,l,o,r,c,a=e.col.title+"",v=e.sortKey===e.col.key&&z(e);function $(){return e.click_handler(e)}return{c(){t=d("th"),n=h(a),l=m(),v&&v.c(),o=m(),p(t,"class",r=s([e.col.sortable?"isSortable":"",e.col.headerClass!==e.undefined&&e.col.headerClass].join(" "))+" svelte-5jx64d"),c=g(t,"click",$)},m(e,r){i(e,t,r),u(t,n),u(t,l),v&&v.m(t,null),u(t,o)},p(l,c){e=c,l.columns&&a!==(a=e.col.title+"")&&y(n,a),e.sortKey===e.col.key?v?v.p(l,e):((v=z(e)).c(),v.m(t,o)):v&&(v.d(1),v=null),l.columns&&r!==(r=s([e.col.sortable?"isSortable":"",e.col.headerClass!==e.undefined&&e.col.headerClass].join(" "))+" svelte-5jx64d")&&p(t,"class",r)},d(e){e&&f(t),v&&v.d(),c()}}}function J(e){var t,n,l=e.col.renderValue?e.col.renderValue(e.row):e.col.value(e.row)+"";return{c(){p(t=d("td"),"class",n=s(e.col.class!==e.undefined&&e.col.class)+" svelte-5jx64d")},m(e,n){i(e,t,n),t.innerHTML=l},p(e,o){(e.columns||e.c_rows)&&l!==(l=o.col.renderValue?o.col.renderValue(o.row):o.col.value(o.row)+"")&&(t.innerHTML=l),e.columns&&n!==(n=s(o.col.class!==o.undefined&&o.col.class)+" svelte-5jx64d")&&p(t,"class",n)},d(e){e&&f(t)}}}function Q(e){var t,n;let l=e.columns,o=[];for(let t=0;t<l.length;t+=1)o[t]=J(T(e,l,t));return{c(){t=d("tr");for(let e=0;e<o.length;e+=1)o[e].c();n=m()},m(e,l){i(e,t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);u(t,n)},p(e,r){if(e.columns||e.undefined||e.c_rows){let c;for(l=r.columns,c=0;c<l.length;c+=1){const s=T(r,l,c);o[c]?o[c].p(e,s):(o[c]=J(s),o[c].c(),o[c].m(t,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}},d(e){e&&f(t),a(o,e)}}}function R(e){var n,l,o,r,c=e.showFilterHeader&&function(e){var t;let n=e.columns,l=[];for(let t=0;t<n.length;t+=1)l[t]=I(P(e,n,t));return{c(){t=d("tr");for(let e=0;e<l.length;e+=1)l[e].c();p(t,"class","svelte-5jx64d")},m(e,n){i(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,o){if(e.filterValues||e.columns||e.undefined||e.filterSettings){let r;for(n=o.columns,r=0;r<n.length;r+=1){const c=P(o,n,r);l[r]?l[r].p(e,c):(l[r]=I(c),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(e){e&&f(t),a(l,e)}}}(e);let s=e.columns,h=[];for(let t=0;t<s.length;t+=1)h[t]=G(M(e,s,t));let g=e.c_rows,y=[];for(let t=0;t<g.length;t+=1)y[t]=Q(F(e,g,t));return{c(){n=d("table"),c&&c.c(),l=m(),o=d("tr");for(let e=0;e<h.length;e+=1)h[e].c();r=m();for(let e=0;e<y.length;e+=1)y[e].c();p(n,"class","svelte-5jx64d")},m(e,t){i(e,n,t),c&&c.m(n,null),u(n,l),u(n,o);for(let e=0;e<h.length;e+=1)h[e].m(o,null);u(n,r);for(let e=0;e<y.length;e+=1)y[e].m(n,null)},p(e,t){if(t.showFilterHeader&&c.p(e,t),e.columns||e.undefined||e.sortKey||e.sortOrder){let n;for(s=t.columns,n=0;n<s.length;n+=1){const l=M(t,s,n);h[n]?h[n].p(e,l):(h[n]=G(l),h[n].c(),h[n].m(o,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=s.length}if(e.columns||e.undefined||e.c_rows){let l;for(g=t.c_rows,l=0;l<g.length;l+=1){const o=F(t,g,l);y[l]?y[l].p(e,o):(y[l]=Q(o),y[l].c(),y[l].m(n,null))}for(;l<y.length;l+=1)y[l].d(1);y.length=g.length}},i:t,o:t,d(e){e&&f(n),c&&c.d(),a(h,e),a(y,e)}}}function U(e,t,n){let{columns:l,rows:o}=t,r=1,c="",s=e=>"",u=l.some(e=>void 0!==e.filterOptions),i={},f={},a={};l.forEach(e=>{n("columnByKey",a[e.key]=e,a)});const d=e=>{!0===e.sortable&&"function"==typeof e.value&&(c===e.key?n("sortOrder",r=1===r?-1:1):(n("sortOrder",r=1),n("sortKey",c=e.key),n("sortBy",s=(t=>e.value(t)))))};u&&(n("filterValues",i={}),l.forEach(e=>{"function"==typeof e.filterOptions?n("filterValues",i[e.key]=e.filterOptions(o),i):Array.isArray(e.filterOptions)&&n("filterValues",i[e.key]=[...e.filterOptions],i)}));let h;return e.$set=(e=>{"columns"in e&&n("columns",l=e.columns),"rows"in e&&n("rows",o=e.rows)}),e.$$.update=((e={rows:1,filterSettings:1,columnByKey:1,sortBy:1,sortOrder:1})=>{(e.rows||e.filterSettings||e.columnByKey||e.sortBy||e.sortOrder)&&n("c_rows",h=o.filter(e=>Object.keys(f).every(t=>{return void 0===f[t]||f[t]===a[t].filterValue(e)})).map(e=>Object.assign({},e,{$sortOn:s(e)})).sort((e,t)=>e.$sortOn>t.$sortOn?r:e.$sortOn<t.$sortOn?-r:0))}),{columns:l,rows:o,sortOrder:r,sortKey:c,showFilterHeader:u,filterValues:i,filterSettings:f,handleSort:d,undefined:void 0,c_rows:h,select_change_handler:function({col:e}){f[e.key]=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n("filterSettings",f),n("columns",l),n("filterValues",i),n("undefined",void 0)},click_handler:({col:e})=>d(e)}}export default class extends H{constructor(e){var t;super(),document.getElementById("svelte-5jx64d-style")||((t=d("style")).id="svelte-5jx64d-style",t.textContent="table.svelte-5jx64d{width:100%}.isSortable.svelte-5jx64d{cursor:pointer}tr.svelte-5jx64d th select.svelte-5jx64d{width:100%}",u(document.head,t)),A(this,e,U,R,c,["columns","rows"])}}
//# sourceMappingURL=SvelteTable.mjs.map

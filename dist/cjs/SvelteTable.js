"use strict";function assign(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(null!=o)for(var c=Object.keys(Object(o)),r=0,a=c.length;r<a;r++){var s=c[r],u=Object.getOwnPropertyDescriptor(o,s);void 0!==u&&u.enumerable&&(n[s]=o[s])}}return n}function polyfill(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:assign})}var es6ObjectAssign={assign:assign,polyfill:polyfill};function noop(){}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function null_to_empty(e){return null==e?"":e}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function listen(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function attr(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.data!==t&&(e.data=t)}function select_option(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function select_value(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let current_component;function set_current_component(e){current_component=e}es6ObjectAssign.polyfill();const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}function flush(){const e=new Set;do{for(;dirty_components.length;){const e=dirty_components.shift();set_current_component(e),update(e.$$)}for(;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const n=render_callbacks[t];e.has(n)||(n(),e.add(n))}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1}function update(e){e.fragment&&(e.update(e.dirty),run_all(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(add_render_callback))}const outroing=new Set;function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}const globals="undefined"!=typeof window?window:global;function mount_component(e,t,n){const{fragment:l,on_mount:o,on_destroy:c,after_update:r}=e.$$;l.m(t,n),add_render_callback(()=>{const t=o.map(run).filter(is_function);c?c.push(...t):run_all(t),e.$$.on_mount=[]}),r.forEach(add_render_callback)}function destroy_component(e,t){e.$$.fragment&&(run_all(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function make_dirty(e,t){e.$$.dirty||(dirty_components.push(e),schedule_update(),e.$$.dirty=blank_object()),e.$$.dirty[t]=!0}function init(e,t,n,l,o,c){const r=current_component;set_current_component(e);const a=t.props||{},s=e.$$={fragment:null,ctx:null,props:c,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(r?r.$$.context:[]),callbacks:blank_object(),dirty:null};let u=!1;s.ctx=n?n(e,a,(t,n,l=n)=>(s.ctx&&o(s.ctx[t],s.ctx[t]=l)&&(s.bound[t]&&s.bound[t](l),u&&make_dirty(e,t)),n)):a,s.update(),u=!0,run_all(s.before_update),s.fragment=l(s.ctx),t.target&&(t.hydrate?s.fragment.l(children(t.target)):s.fragment.c(),t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()),set_current_component(r)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const{Object:Object_1}=globals;function add_css(){var e=element("style");e.id="svelte-5jx64d-style",e.textContent="table.svelte-5jx64d{width:100%}.isSortable.svelte-5jx64d{cursor:pointer}tr.svelte-5jx64d th select.svelte-5jx64d{width:100%}",append(document.head,e)}function get_each_context_1(e,t,n){const l=Object_1.create(e);return l.col=t[n],l}function get_each_context(e,t,n){const l=Object_1.create(e);return l.row=t[n],l}function get_each_context_2(e,t,n){const l=Object_1.create(e);return l.col=t[n],l}function get_each_context_4(e,t,n){const l=Object_1.create(e);return l.option=t[n],l}function get_each_context_3(e,t,n){const l=Object_1.create(e);return l.col=t[n],l}function create_if_block_1(e){var t;let n=e.columns,l=[];for(let t=0;t<n.length;t+=1)l[t]=create_each_block_3(get_each_context_3(e,n,t));return{c(){t=element("tr");for(let e=0;e<l.length;e+=1)l[e].c();attr(t,"class","svelte-5jx64d")},m(e,n){insert(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,o){if(e.filterValues||e.columns||e.undefined||e.filterSettings){let c;for(n=o.columns,c=0;c<n.length;c+=1){const r=get_each_context_3(o,n,c);l[c]?l[c].p(e,r):(l[c]=create_each_block_3(r),l[c].c(),l[c].m(t,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=n.length}},d(e){e&&detach(t),destroy_each(l,e)}}}function create_if_block_2(e){var t,n,l;let o=e.filterValues[e.col.key],c=[];for(let t=0;t<o.length;t+=1)c[t]=create_each_block_4(get_each_context_4(e,o,t));function r(){e.select_change_handler.call(t,e)}return{c(){t=element("select"),n=element("option");for(let e=0;e<c.length;e+=1)c[e].c();n.__value=e.undefined,n.value=n.__value,void 0===e.filterSettings[e.col.key]&&add_render_callback(r),attr(t,"class","svelte-5jx64d"),l=listen(t,"change",r)},m(l,o){insert(l,t,o),append(t,n);for(let e=0;e<c.length;e+=1)c[e].m(t,null);select_option(t,e.filterSettings[e.col.key])},p(n,l){if(e=l,n.filterValues||n.columns){let l;for(o=e.filterValues[e.col.key],l=0;l<o.length;l+=1){const r=get_each_context_4(e,o,l);c[l]?c[l].p(n,r):(c[l]=create_each_block_4(r),c[l].c(),c[l].m(t,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=o.length}(n.filterSettings||n.columns)&&select_option(t,e.filterSettings[e.col.key])},d(e){e&&detach(t),destroy_each(c,e),l()}}}function create_each_block_4(e){var t,n,l,o=e.option.name+"";return{c(){t=element("option"),n=text(o),t.__value=l=e.option.value,t.value=t.__value},m(e,l){insert(e,t,l),append(t,n)},p(e,c){(e.filterValues||e.columns)&&o!==(o=c.option.name+"")&&set_data(n,o),(e.filterValues||e.columns)&&l!==(l=c.option.value)&&(t.__value=l),t.value=t.__value},d(e){e&&detach(t)}}}function create_each_block_3(e){var t,n,l=e.filterValues[e.col.key]!==e.undefined&&create_if_block_2(e);return{c(){t=element("th"),l&&l.c(),n=space()},m(e,o){insert(e,t,o),l&&l.m(t,null),append(t,n)},p(e,o){o.filterValues[o.col.key]!==o.undefined?l?l.p(e,o):((l=create_if_block_2(o)).c(),l.m(t,n)):l&&(l.d(1),l=null)},d(e){e&&detach(t),l&&l.d()}}}function create_if_block(e){var t,n=1===e.sortOrder?"▲":"▼";return{c(){t=text(n)},m(e,n){insert(e,t,n)},p(e,l){e.sortOrder&&n!==(n=1===l.sortOrder?"▲":"▼")&&set_data(t,n)},d(e){e&&detach(t)}}}function create_each_block_2(e){var t,n,l,o,c,r,a=e.col.title+"",s=e.sortKey===e.col.key&&create_if_block(e);function u(){return e.click_handler(e)}return{c(){t=element("th"),n=text(a),l=space(),s&&s.c(),o=space(),attr(t,"class",c=null_to_empty([e.col.sortable?"isSortable":"",e.col.headerClass!==e.undefined&&e.col.headerClass].join(" "))+" svelte-5jx64d"),r=listen(t,"click",u)},m(e,c){insert(e,t,c),append(t,n),append(t,l),s&&s.m(t,null),append(t,o)},p(l,r){e=r,l.columns&&a!==(a=e.col.title+"")&&set_data(n,a),e.sortKey===e.col.key?s?s.p(l,e):((s=create_if_block(e)).c(),s.m(t,o)):s&&(s.d(1),s=null),l.columns&&c!==(c=null_to_empty([e.col.sortable?"isSortable":"",e.col.headerClass!==e.undefined&&e.col.headerClass].join(" "))+" svelte-5jx64d")&&attr(t,"class",c)},d(e){e&&detach(t),s&&s.d(),r()}}}function create_each_block_1(e){var t,n,l=e.col.renderValue?e.col.renderValue(e.row):e.col.value(e.row)+"";return{c(){attr(t=element("td"),"class",n=null_to_empty(e.col.class!==e.undefined&&e.col.class)+" svelte-5jx64d")},m(e,n){insert(e,t,n),t.innerHTML=l},p(e,o){(e.columns||e.c_rows)&&l!==(l=o.col.renderValue?o.col.renderValue(o.row):o.col.value(o.row)+"")&&(t.innerHTML=l),e.columns&&n!==(n=null_to_empty(o.col.class!==o.undefined&&o.col.class)+" svelte-5jx64d")&&attr(t,"class",n)},d(e){e&&detach(t)}}}function create_each_block(e){var t,n;let l=e.columns,o=[];for(let t=0;t<l.length;t+=1)o[t]=create_each_block_1(get_each_context_1(e,l,t));return{c(){t=element("tr");for(let e=0;e<o.length;e+=1)o[e].c();n=space()},m(e,l){insert(e,t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);append(t,n)},p(e,c){if(e.columns||e.undefined||e.c_rows){let r;for(l=c.columns,r=0;r<l.length;r+=1){const a=get_each_context_1(c,l,r);o[r]?o[r].p(e,a):(o[r]=create_each_block_1(a),o[r].c(),o[r].m(t,n))}for(;r<o.length;r+=1)o[r].d(1);o.length=l.length}},d(e){e&&detach(t),destroy_each(o,e)}}}function create_fragment(e){var t,n,l,o,c=e.showFilterHeader&&create_if_block_1(e);let r=e.columns,a=[];for(let t=0;t<r.length;t+=1)a[t]=create_each_block_2(get_each_context_2(e,r,t));let s=e.c_rows,u=[];for(let t=0;t<s.length;t+=1)u[t]=create_each_block(get_each_context(e,s,t));return{c(){t=element("table"),c&&c.c(),n=space(),l=element("tr");for(let e=0;e<a.length;e+=1)a[e].c();o=space();for(let e=0;e<u.length;e+=1)u[e].c();attr(t,"class","svelte-5jx64d")},m(e,r){insert(e,t,r),c&&c.m(t,null),append(t,n),append(t,l);for(let e=0;e<a.length;e+=1)a[e].m(l,null);append(t,o);for(let e=0;e<u.length;e+=1)u[e].m(t,null)},p(e,n){if(n.showFilterHeader&&c.p(e,n),e.columns||e.undefined||e.sortKey||e.sortOrder){let t;for(r=n.columns,t=0;t<r.length;t+=1){const o=get_each_context_2(n,r,t);a[t]?a[t].p(e,o):(a[t]=create_each_block_2(o),a[t].c(),a[t].m(l,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=r.length}if(e.columns||e.undefined||e.c_rows){let l;for(s=n.c_rows,l=0;l<s.length;l+=1){const o=get_each_context(n,s,l);u[l]?u[l].p(e,o):(u[l]=create_each_block(o),u[l].c(),u[l].m(t,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=s.length}},i:noop,o:noop,d(e){e&&detach(t),c&&c.d(),destroy_each(a,e),destroy_each(u,e)}}}function instance(e,t,n){let{columns:l,rows:o}=t,c=1,r="",a=e=>"",s=l.some(e=>void 0!==e.filterOptions),u={},i={},_={};l.forEach(e=>{n("columnByKey",_[e.key]=e,_)});const d=e=>{!0===e.sortable&&"function"==typeof e.value&&(r===e.key?n("sortOrder",c=1===c?-1:1):(n("sortOrder",c=1),n("sortKey",r=e.key),n("sortBy",a=(t=>e.value(t)))))};s&&(n("filterValues",u={}),l.forEach(e=>{"function"==typeof e.filterOptions?n("filterValues",u[e.key]=e.filterOptions(o),u):Array.isArray(e.filterOptions)&&n("filterValues",u[e.key]=[...e.filterOptions],u)}));let f;return e.$set=(e=>{"columns"in e&&n("columns",l=e.columns),"rows"in e&&n("rows",o=e.rows)}),e.$$.update=((e={rows:1,filterSettings:1,columnByKey:1,sortBy:1,sortOrder:1})=>{(e.rows||e.filterSettings||e.columnByKey||e.sortBy||e.sortOrder)&&n("c_rows",f=o.filter(e=>Object.keys(i).every(t=>{return void 0===i[t]||i[t]===_[t].filterValue(e)})).map(e=>Object.assign({},e,{$sortOn:a(e)})).sort((e,t)=>e.$sortOn>t.$sortOn?c:e.$sortOn<t.$sortOn?-c:0))}),{columns:l,rows:o,sortOrder:c,sortKey:r,showFilterHeader:s,filterValues:u,filterSettings:i,handleSort:d,undefined:void 0,c_rows:f,select_change_handler:function({col:e}){i[e.key]=select_value(this),n("filterSettings",i),n("columns",l),n("filterValues",u),n("undefined",void 0)},click_handler:({col:e})=>d(e)}}class SvelteTable extends SvelteComponent{constructor(e){super(),document.getElementById("svelte-5jx64d-style")||add_css(),init(this,e,instance,create_fragment,safe_not_equal,["columns","rows"])}}module.exports=SvelteTable;
//# sourceMappingURL=SvelteTable.js.map
